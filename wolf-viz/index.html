<!DOCTYPE html>
<meta charset="utf-8">
<style>

/* CSS goes here. */

</style>
<body>

<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://underscorejs.org/underscore-min.js"></script>

<script>

/* JavaScript goes here. */

var width = 960,
    height = 300;

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);


function Is2010(complaint) {
    return complaint.YEAR == "2010";
}

function CompareYear(year) {
    return function(shiznaz) {
        return shiznaz.YEAR == year;
    }
}

function transpose(a) {
  return Object.keys(a[0]).map(function (c) { return a.map(function (r) { return r[c]; }); });
}

var d, dd, complaints=[], p;
var years = [2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013];

var scalex = d3.scale.linear()
                .domain([1990, 2015])
                .range([0, width]);
                
var scaley = d3.scale.linear()
                .domain([0, 250])
                .range([height, 0]);

d3.csv("wolf.csv", function(data) {
    d = data;
    dd = data.filter(CompareYear(2011));
    
    for ( var i=2000; i<=2013; i++) { complaints.push(d.filter(CompareYear(i)).length); }
    
    p = transpose([years, complaints]);
    
    svg.selectAll("circle")
      .data(p)
      .enter()
      .append("circle")
      .attr("cx", function(q) {return scalex(q[0]);})
      .attr("cy", function(q) {return scaley(q[1]);})
      .attr("r", 5);
});


</script>